<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>存一些没用的东西</title><link>https://UnderTaker323.github.io</link><description>感觉有点用的东西</description><copyright>存一些没用的东西</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/162246850?v=4</url><title>avatar</title><link>https://UnderTaker323.github.io</link></image><lastBuildDate>Mon, 09 Jun 2025 14:59:52 +0000</lastBuildDate><managingEditor>存一些没用的东西</managingEditor><ttl>60</ttl><webMaster>存一些没用的东西</webMaster><item><title>Ubuntu中修改root账户颜色</title><link>https://UnderTaker323.github.io/post/Ubuntu-zhong-xiu-gai-root-zhang-hu-yan-se.html</link><description>
root账户下编辑/etc/bash.bashrc文件
```
vim /etc/bash.bashrc
```
添加以下内容保存退出
```
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;31m\]\u\[\033[01;33m\]@\h\[\033[00m\]:\[\033[01;32m\]\w\[\033[00m\]\$ '
```
执行后生效
```
source /etc/bash.bashrc
```


。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/Ubuntu-zhong-xiu-gai-root-zhang-hu-yan-se.html</guid><pubDate>Mon, 09 Jun 2025 14:59:21 +0000</pubDate></item><item><title>Kubernetes启动</title><link>https://UnderTaker323.github.io/post/Kubernetes-qi-dong.html</link><description>禁用交换空间
***master和slave都需要执行***
```
swapoff -a
```

查看kubelet状态
```
systemctl status kubelet
```

查看节点
```
kubectl get nodes
```

查看pod
```
kubectl get pods
```。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/Kubernetes-qi-dong.html</guid><pubDate>Mon, 09 Jun 2025 14:53:16 +0000</pubDate></item><item><title>Ubuntu16.04增加网关</title><link>https://UnderTaker323.github.io/post/Ubuntu16.04-zeng-jia-wang-guan.html</link><description>临时增加网关
```
route add default gw x.x.x.x
```

**x.x.x.x是网关的IP地址**。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/Ubuntu16.04-zeng-jia-wang-guan.html</guid><pubDate>Mon, 09 Jun 2025 14:52:47 +0000</pubDate></item><item><title>Ubuntu16.04安装Kubernetes</title><link>https://UnderTaker323.github.io/post/Ubuntu16.04-an-zhuang-Kubernetes.html</link><description>**先安装docker**

两张网卡

- 桥接网络
- 内部网络

master配置：
```
vim  /etc/network/interfaces
```

```
auto enp0s3
iface enp0s3 inet dhcp

auto enp0s8
iface enp0s8 inet static
address 192.168.1.10
```
slave配置：
```
vim  /etc/network/interfaces
```

```
auto enp0s3
iface enp0s3 inet dhcp

auto enp0s8
iface enp0s8 inet static
address 192.168.1.20
```
主机名hostname修改
```
vim /etc/hostname
```

/etc/hostname修改
```
127.0.1.1   k8s-master/slave

192.168.1.10 k8s-master
192.168.1.20 k8s-slave
```

添加kubernetes源
```
vim /etc/apt/sources.list
```

添加
```
deb https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial main
```

保存更新apt
```
apt update
```

安装以下package：
```
apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
```

**以上可以直接在一台Ubuntu16.04上安装然后克隆**

安装kubeadm

```
apt-get install kubelet=1.17.4-00 kubeadm=1.17.4-00 kubectl=1.17.4-00 --allow-unauthenticated
```

如果遇到E:无法定位软件包...
则先执行
```
apt-get update
```

*master节点和salve节点都要执行* 

上传Kubernetes所需镜像：
**master节点**
&gt;coredns.tar
etcd.tar
kube-apiserver.tar
kube-controller-manager.tar
kube-proxy.tar
kube-scheduler.tar
pause.tar

**slave节点**
&gt;coredns.tar
kube-proxy.tar
pause.tar

上传镜像
***master**
```
docker load -i coredns.tar
docker load -i etcd.tar
docker load -i kube-apiserver.tar
docker load -i kube-controller-manager.tar
docker load -i kube-proxy.tar
docker load -i kube-scheduler.tar
docker load -i pause.tar
```

**slave**
```
docker load -i coredns.tar
docker load -i kube-proxy.tar
docker load -i pause.tar
```

### master节点初始化
先执行
```
swapoff -a
```

初始化
```
kubeadm init --pod-network-cidr=10.244.0.0/16 --kubernetes-version=v1.17.4
```
***如果初始化失败，重新执行上述命令的时候需重置kubeadm***
*重置kubeadm命令*
```
kubeadm reset
```

配置kubectl
```
mkdir -p $HOME/.kube
```

```
cp -i etc/kubernetes/admin.conf $HOME/.kube/config
```
```
chown $(id -u):$(id -g) $HOME/.kube/config
```
**此条命令因为格式有问题，请直接复制初始化成功后生成的内容**

### slave节点
先执行
```
swapoff -a
```
执行
```
kubeadm join 192.168.1.6:6443 --token pbic2f.ognkfgyirim1xh6f \ --discovery-token-ca-cert-hash sha256:11a12bd4fb38fec71c1f7a06723fdce21fcf0e203b2355bf43759cc3fba88f89
```

***注：上述代码为master节点初始化完成后最后的内容，不要将上述代码直接复制进去，在master节点初始化完成后的最后找到相似内容执行***

**在master节点查看**
```
kubectl get nodes
```

```
kubectl get pods -n kube-system -o wide
```

在**master**与**slave**节点导入以下镜像
&gt;calico-cni.tar
calico-node.tar
calico-pod2daemon-flexvol.tar

上传镜像
```
docker load -i calico-cni.tar
docker load -i calico-node.tar
docker load -i calico-pod2daemon-flexvol.tar
```

部署canal
```
kubectl apply -f https://docs.projectcalico.org/v3.10/getting-started/kubernetes/installation/hosted/canal/canal.yaml
```

**因为上述部署方式可能无法启动对应容器，所以执行下面的方法**
先获取yaml文档
```
wget https://docs.projectcalico.org/v3.10/getting-started/kubernetes/installation/hosted/canal/canal.yaml
```

对该文档进行修改
```
vim canal.yaml
```
将3.10.4修改成3.10.3保存退出

执行
```
kubectl apply -f canal.yaml
```

**在master节点查看**
```
kubectl get nodes
```

```
kubectl get pods -n kube-system -o wide
```。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/Ubuntu16.04-an-zhuang-Kubernetes.html</guid><pubDate>Mon, 09 Jun 2025 14:48:28 +0000</pubDate></item><item><title>在Ubuntu中安装Docker</title><link>https://UnderTaker323.github.io/post/zai-Ubuntu-zhong-an-zhuang-Docker.html</link><description>卸载老版本Docker
```
apt-get remove docker docker-engine docker.io containerd runc
```

更新下载源
```
apt update
```

安装更新软件包
```
apt upgrade
```

安装docker依赖
```
apt-get install ca-certificates curl gnupg lsb-release
```

添加Docker官方GPG密钥
```
curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -
```

更新docker软件源
```
add-apt-repository 'deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable'
```

安装Docker
```
apt-get install docker-ce docker-ce-cli containerd.io
```

配置用户组（选择配置）
```
usermod -aG docker $USER
```

*默认情况下，只有root用户和docker组的用户才能运行Docker命令。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/zai-Ubuntu-zhong-an-zhuang-Docker.html</guid><pubDate>Mon, 09 Jun 2025 14:47:46 +0000</pubDate></item><item><title>虚拟机Ubuntu开机后提示：无法应用源保存的显示器配置</title><link>https://UnderTaker323.github.io/post/xu-ni-ji-Ubuntu-kai-ji-hou-ti-shi-%EF%BC%9A-wu-fa-ying-yong-yuan-bao-cun-de-xian-shi-qi-pei-zhi.html</link><description>### 解决办法:
终端输入
```
rm .config/monitors.xml
```

重启后解决问题。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/xu-ni-ji-Ubuntu-kai-ji-hou-ti-shi-%EF%BC%9A-wu-fa-ying-yong-yuan-bao-cun-de-xian-shi-qi-pei-zhi.html</guid><pubDate>Mon, 09 Jun 2025 14:47:01 +0000</pubDate></item><item><title>Linux中安装并开启ssh服务</title><link>https://UnderTaker323.github.io/post/Linux-zhong-an-zhuang-bing-kai-qi-ssh-fu-wu.html</link><description>### Ubuntu
更新下载源
```
sudo apt update
```

安装ssh服务
```
sudo apt install openssh-server
```

修改ssh登录配置
```
sudo vim /etc/ssh/sshd_config
```
- 将`Port 22`前面的`#`删除 
- 将`PermitRootLogin `后面修改为`yes`

开启ssh防火墙服务端口
```
sudo ufw allow ssh
```

开启ssh服务
```
systemctl start ssh
```

开启ssh服务
```
systemctl stop ssh
```

查看ssh服务状态
```
systemctl status ssh
```

设置开机自启动
```
systemctl enable ssh
```

关闭开机自启动
```
systemctl disable ssh
```

### Centos
查看是否已经安装ssh
```
rpm -qa | grep -E 'openssh'
```

或者
```
yum list installed | grep openssh
```

若已经安装则会输出相应信息
&gt;openssh-7.4p1-11.el7.x86_64
openssh-server-7.4p1-11.el7.x86_64
openssh-clients-7.4p1-11.el7.x86_64

若未安装测开始安装ssh
```
yum install openssh-server -y
```

**-y表示安装过程中自动提示选择全部选择y*

安装完成后
修改ssh文件配置
```
vim /etc/ssh/sshd_config
```

- 将`Port 22`前面的`#`删除 
- 将`PermitRootLogin prohibit-password`后面修改为`yes`
- 将`PubkeyAuthentication `后面修改为`yes`
- 将`ListenAddress 0.0.0.0`前面的`#`删除 
- 将`ListenAddress ::`前面的`#`删除 

修改后重启ssh服务
```
systemctl restart sshd
```

查看sshd是否运行，有结果输出则显示运行正常
```
ps -e | grep sshd 
```
如果无法连接登录，查看端口是否开放：
```
firewall-cmd --zone=public --add-port=22/tcp --permanent 
service firewalld restart
```。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/Linux-zhong-an-zhuang-bing-kai-qi-ssh-fu-wu.html</guid><pubDate>Mon, 09 Jun 2025 14:43:06 +0000</pubDate></item><item><title>官宣文案</title><link>https://UnderTaker323.github.io/post/guan-xuan-wen-an.html</link><description>夏天有着迟暮的霞光 正如晚来的你皆是笑意

如果你够及时 能赶上这个冬天 与我一起吃火锅喝奶茶看电影放烟花合照秀恩爱 那么这个冬天一定很美好
如果你这个冬天不来 那我就买长一点的衣服 把手塞到袖子里 等到来年你一定要牵起我冷了一个冬天的手

冬天到了，所以我能和你一起共白头吗

因为北大西洋暖流的存在使摩尔曼斯克港成为了不冻港

你是我的戌成变法，都怪慈禧听不懂康有为的粤语。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/guan-xuan-wen-an.html</guid><pubDate>Sun, 08 Jun 2025 12:57:13 +0000</pubDate></item><item><title>文案</title><link>https://UnderTaker323.github.io/post/wen-an.html</link><description>人终究是一个孤独的个体，纵使你已经拥有了他人的怀抱，这其中，也许人与人之间唯一不同的，只是你把孤独藏在哪里。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/wen-an.html</guid><pubDate>Sat, 07 Jun 2025 19:53:07 +0000</pubDate></item><item><title>图标LOGO</title><link>https://UnderTaker323.github.io/post/tu-biao-LOGO.html</link><description>[The Thiings Collection](https://www.thiings.co/)
&gt; 一套拟物风格的图标集，设计非常精美，可用来做图标或者 LOGO，下载格式为 PNG，且背景为透明，方便作为素材使用，可用于个人和商用，完全免费，无需注册。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/tu-biao-LOGO.html</guid><pubDate>Fri, 06 Jun 2025 08:10:40 +0000</pubDate></item><item><title>装机网站</title><link>https://UnderTaker323.github.io/post/zhuang-ji-wang-zhan.html</link><description>[装个机](https://zhuangit.ababtools.com/)
&gt; 一款综合的装机教程网站，不只提供Windows与macOS的装机教程，还提供原版、纯净、精简版本的下载，可以避免下载捆绑软件。</description><guid isPermaLink="true">https://UnderTaker323.github.io/post/zhuang-ji-wang-zhan.html</guid><pubDate>Fri, 06 Jun 2025 07:48:20 +0000</pubDate></item></channel></rss>